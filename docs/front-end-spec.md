# **状态栏宠物 UI/UX 规格说明书**

### **版本: 1.0**

## **1. 整体 UX 目标与原则 (Overall UX Goals & Principles)**

#### **目标用户画像 (Target User Personas)**
我们的用户是**注重效率和沉浸式体验的开发者**。他们珍视自己的“心流”状态，对干扰性强、华而不实的工具感到排斥。他们欣赏那些能够无缝集成到其工作流中、提供价值且设计精巧的应用。

#### **可用性目标 (Usability Goals)**
* **可瞥性 (Glanceability):** 用户必须能在半秒钟内通过瞥一眼状态栏就理解宠物的核心状态。
* **零配置 (Zero Configuration):** MVP 版本开箱即用，无需任何手动配置。
* **令人愉悦 (Delightful):** 交互应是轻量、有趣且富有魅力的，能在单调的编码中创造微小的惊喜。
* **无干扰性 (Unobtrusive):** 宠物绝不能以任何形式打断或干扰用户的编码任务。

#### **核心设计原则 (Core Design Principles)**
1.  **环境式信息 (Ambient Information):** 在用户的余光中 subtly地展示信息，而不是主动推送。
2.  **少即是多 (Less is More):** 每一个设计元素和功能都必须有其存在的充分理由。
3.  **以简驭繁 (Personality through Simplicity):** 通过最少的字符组合来传递丰富的状态和个性。
4.  **尊重心流 (Respect the Flow State):** 绝不打断用户。

## **2. 信息架构 (Information Architecture)**

#### **应用“地图”/ 界面清单 (Site Map / Screen Inventory)**
我们的应用不包含传统的页面或屏幕。其全部用户界面由两个部分组成，关系如下：

```mermaid
graph TD
    A["主界面 (Status Bar UI)"] -- "在宠物死亡后触发 (Triggers on Pet Death)" --> B["命令面板 (Command Palette)"];
    B -- "执行 (Executes)" --> C["领养新宠物操作 (Adopt New Pet Action)"];
````

#### **导航结构 (Navigation Structure)**

  * **主要导航:** 无。核心界面常驻于状态栏。
  * **次要导航:** 无。
  * **面包屑导航:** 不适用。

## **3. 用户流程 (User Flows)**

### **流程 1: 宠物被动生命周期流程 (Flow 1: Pet's Passive Lifecycle Flow)**

**用户目标 (User Goal):**
通过正常的编码工作，保持自己的宠物健康快乐。

**入口点 (Entry Points):**
用户开始编码；时间的自然流逝。

**成功标准 (Success Criteria):**
宠物长时间保持在“开心”状态。

**流程图 (Flow Diagram):**

```mermaid
graph TD
    subgraph " "
        A(开始: 宠物开心) -->|时间流逝| B(能量减少);
        B --> C{能量 < 40%?};
        C -->|否| A;
        C -->|是| D(宠物饥饿);
        D --> E{能量 < 10%?};
        E -->|否 & 持续不活跃| D;
        E -->|是| F(宠物生病);
        F --> G{能量 = 0%?};
        G -->|否 & 持续不活跃| F;
        G -->|是| H(宠物死亡);
        subgraph "用户行为"
            I(用户编码) --> J(能量增加);
        end
        J --> A;
        D -- "用户开始编码" --> I;
        F -- "用户开始编码" --> I;
    end
```

**边界情况与错误处理 (Edge Cases & Error Handling):**

  * **长时间离线:** 当用户重新打开 IDE 时，需要根据离线时长计算能量衰减，并正确显示宠物的当前状态。
  * **能量溢出:** 当能量达到100%后，继续喂养不应产生错误，能量值保持在100%。

### **流程 2: 宠物重生主动流程 (Flow 2: Pet's Rebirth Active Flow)**

**用户目标 (User Goal):**
在宠物死亡后，快速、简单地领养一只新宠物。

**流程步骤 (Flow Steps):**

1.  用户的宠物能量归零，状态栏显示 `(RIP)`。
2.  用户打开 IDE 的命令面板。
3.  用户输入并选择“状态栏宠物：领养一只新宠物”命令。
4.  状态栏中的宠物和能量条重置为初始的“开心”和满能量状态。

## **4. 线框图与视觉稿 (Wireframes & Mockups)**

#### **主要设计文件 (Primary Design Files)**

本项目不使用 Figma, Sketch 等外部设计工具。所有的视觉设计将直接在本规格说明书（特别是第五部分‘组件库/设计系统’）中以 ASCII 艺术的形式定义。

### **关键屏幕布局 (Key Screen Layouts)**

#### **屏幕名称:** 状态栏布局 (Status Bar Layout)

  * **用途:** 以紧凑、一目了然的方式，在状态栏中展示宠物的当前状态和能量水平。
  * **关键元素:**
    1.  **宠物 ASCII 艺术:** 代表宠物当前表情的字符组合，例如 ` (^_^)  `。
    2.  **能量条:** 代表能量水平的可视化条，例如 `能量:[██████░░░░]`。
    3.  **无障碍文本 (Accessibility Text):** (建议) 为屏幕阅读器提供的隐藏文本，描述当前状态，例如“宠物状态：开心，能量85%”。
  * **交互说明:** 显示是被动的。状态的更新由能量值变化自动触发，用户无法直接点击或交互。

## **5. 组件库/设计系统 (Component Library / Design System)**

#### **设计系统方法 (Design System Approach)**

我们将创建一个自定义的、极简的、基于 ASCII 艺术的设计系统。该系统的核心是确保所有状态下的宠物形象都具有一致的风格和清晰的表达力。

### **核心组件 (Core Components)**

#### **组件1: 宠物 (The Pet)**

  * **用途:** 视觉化地代表应用的状态，并提供情感反馈。
  * **变体 (Variants):** 宠物的变体就是其不同的表情。
      * **开心 / 满足:** ` (^_^)  `
      * **非常开心 / 跳舞:** `\(^o^)/`
      * **饥饿:** `(o_o)`
      * **睡觉:** `(-_-)zzz`
      * **生病 / 状态很差:** `(X_X)`
      * **死亡:** `(RIP)`
  * **使用指南:** 宠物组件应始终与能量条组件一同显示在状态栏。

#### **组件2: 能量条 (The Energy Bar)**

  * **用途:** 提供一个量化的、可一瞥的宠物健康状况视图。
  * **变体 (Variants):** 建议采用10格长度，使用 `█` 作为填充字符，`░` 作为空白字符。例如：`能量:[██████░░░░]`
  * **状态 (States):** 其状态由填充格数（0-10）表示，直接对应 0-100% 的能量值。
  * **使用指南:** 始终显示在宠物组件旁边，并建议带上“能量:”标签以增加清晰度。

## **6. 品牌与风格指南 (Branding & Style Guide)**

#### **视觉识别 (Visual Identity)**

本项目的视觉识别是**复古、极简、开发者中心**的。所有的视觉元素都应服务于这个核心感觉，避免任何不必要的装饰。

#### **“调色板” (Color Palette)**

**重要:** 本应用的颜色将完全由用户自己的 IDE 主题决定。
**建议:** 默认情况下，所有字符应使用 IDE 状态栏的**标准前景色**，以确保与用户的环境无缝融合。

#### **“字体” (Typography)**

字体将由用户的 IDE 设置决定，通常是等宽字体。
**设计约束:** 我们选择的所有 ASCII 字符，都必须在主流的编程字体中清晰、无歧义地显示。

#### **“图标” (Iconography)**

我们项目中的“图标”就是宠物本身的不同 ASCII 表情。请参考上一节“组件库”中的定义。

#### **间距与布局 (Spacing & Layout)**

状态栏中的最终输出格式应保持一致。建议格式为 `[宠物表情][两个空格][能量标签][冒号与一个空格][能量条]`。
例如: `(^_^)  能量: [██████░░░░]`

## **7. 无障碍设计要求 (Accessibility Requirements)**

#### **合规目标 (Compliance Target)**

我们的目标是尽可能遵循 **WCAG 2.1 AA** 级别标准的相关指导原则。

#### **关键要求 (Key Requirements)**

  * **视觉 (Visual):** 扩展不应自定义颜色，而是继承用户 IDE 主题的颜色。
  * **交互 (Interaction):** 唯一的主动交互通过 IDE 的命令面板进行，该面板本身已具备完整的键盘可访问性。
  * **内容 (Content / Screen Readers):** 状态栏中的显示**必须**包含一个对屏幕阅读器友好的、完整的描述性文本。格式建议为：`(^_^) 状态宠物: 开心, 能量: 85%`。

#### **测试策略 (Testing Strategy)**

  * **手动测试:** 在多种流行的 IDE 主题（包括浅色、深色和高对比度主题）下检查可读性。
  * **屏幕阅读器测试:** 必须使用至少一种主流屏幕阅读器进行测试，以确保状态描述文本的播报是清晰、准确且有用的。

## **8. 响应式策略 (Responsiveness Strategy)**

响应式指**适应 IDE 窗口宽度变化导致的状态栏空间变化**。

#### **“断点” (Breakpoints)**

  * **完整模式 (Full Mode):** 空间充足时显示全部信息。 `(^_^)  能量: [██████░░░░]`
  * **紧凑模式 (Compact Mode):** 空间受限时，省略标签。 `(^_^) [██████░░░░]`
  * **极简模式 (Minimal Mode):** 空间极度受限时，仅显示核心信息（宠物表情）。 ` (^_^)  `

#### **适配模式 (Adaptation Patterns)**

  * **布局变化:** 采用**优雅降级 (Graceful Degradation)** 的策略。
  * **内容优先级:** 1. **宠物表情 (最高)**, 2. **能量条**, 3. **能量标签 (最低)**。

## **9. 动画与微交互 (Animation & Micro-interactions)**

#### **动效原则 (Motion Principles)**

  * **微妙至上 (Subtlety is Key):** 动画效果应是几乎难以察觉的。
  * **性能优先 (Performance First):** 动画不能对 IDE 性能产生任何可感知的负面影响。
  * **有意义而非装饰性 (Meaningful, Not Decorative):** 动画应用于指示状态变化。

#### **关键动画 (Key Animations)**

  * **状态切换“眨眼”效果:** 当宠物表情发生变化时，可以有一个快速的（\<0.5秒）中间帧，以柔和地提示状态已更新。
  * **“跳舞”动画:** 当宠物“非常开心”时，可以通过在 `\(^o^)/` 和 `/(o^)\` 之间交替来创造动态效果。
  * **能量条填充效果:** 能量条的增加可以有一个非常快速的、逐格填充的动画。

## **10. 性能注意事项 (Performance Considerations)**

#### **性能目标 (Performance Goals)**

  * **扩展激活时间:** \< 50毫秒。
  * **交互响应:** \< 100毫秒。
  * **资源占用:** 闲置时 CPU 占用率接近于零，内存占用 \< 10MB。
  * **UI 刷新:** 绝不能导致 IDE 界面卡顿。

#### **支持性能的设计策略 (Design Strategies)**

  * **无网络请求:** 纯本地化设计。
  * **最小化状态管理:** 仅追踪最少量的数据。
  * **低频更新:** 状态更新是事件驱动或低频的。
  * **极简渲染:** 直接渲染文本字符。
